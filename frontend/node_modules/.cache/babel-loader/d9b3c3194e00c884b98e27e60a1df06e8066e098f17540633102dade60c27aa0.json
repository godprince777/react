{"ast":null,"code":"// redux-actions 라이브러리에서 createAction(액션 생성자), handleActions(리듀서 생성 도우미) 불러옴\nimport { createAction, handleActions } from \"redux-actions\";\n\n// immer: 불변성을 편리하게 유지해주는 라이브러리\nimport { produce } from \"immer\";\nimport { takeLatest } from \"redux-saga/effects\";\n\n// 요청 액션 타입/사가 헬퍼\nimport { createRequestActionTypes, createRequestSaga } from \"../lib/createRequestSaga\";\n\n// 액션 타입 정의\nconst CHANGE_FIELD = \"auth/CHANGE_FIELD\"; // 폼 필드 값 변경\nconst INITIALIZE_FORM = \"auth/INITIALIZE_FORM\"; // 폼 초기화\n\n// 회원가입(register) 관련 액션 3종\nconst [REGISTER, REGISTER_SUCCESS, REGISTER_FAILURE] = createRequestActionTypes(\"REGISTER\");\n// 로그인(login) 관련 액션 3종\nconst [LOGIN, LOGIN_SUCCESS, LOGIN_FAILURE] = createRequestActionTypes(\"LOGIN\");\n// 로그인 유지(토큰 검증) 관련 액션 3종\nconst [CHECK, CHECK_SUCCESS, CHECK_FAILURE] = createRequestActionTypes(\"CHECK\");\n\n// changeField 액션 생성자\n// form: register or login\n// key: username, password 등\n// value: 변경할 값\nexport const changeField = createAction(CHANGE_FIELD, (form, key, value) => ({\n  form,\n  key,\n  value\n}));\n\n// initializeForm 액션 생성자\n// 어떤 폼(register/login)을 초기화할지 전달\nexport const initializeForm = createAction(INITIALIZE_FORM, form => form);\n\n// 초기 상태 정의\nconst initialState = {\n  register: {\n    username: '',\n    password: '',\n    passwordConfirm: ''\n  },\n  login: {\n    username: '',\n    password: ''\n  }\n};\n\n// 리듀서 정의\nconst auth = handleActions({\n  // CHANGE_FIELD 액션 처리\n  // immer produce 사용\n  // 예: draft['register']['username'] = '홍길동'\n  [CHANGE_FIELD]: (state, {\n    payload: {\n      form,\n      key,\n      value\n    }\n  }) => produce(state, draft => {\n    draft[form][key] = value;\n  }),\n  // INITIALIZE_FORM 액션 처리\n  // 해당 폼의 상태를 초기 상태로 되돌림\n  [INITIALIZE_FORM]: (state, {\n    payload: form\n  }) => ({\n    ...state,\n    [form]: initialState[form]\n  })\n}, initialState);\n\n// 이 auth 리듀서를 모듈에서 기본 export\nexport default auth;","map":{"version":3,"names":["createAction","handleActions","produce","takeLatest","createRequestActionTypes","createRequestSaga","CHANGE_FIELD","INITIALIZE_FORM","REGISTER","REGISTER_SUCCESS","REGISTER_FAILURE","LOGIN","LOGIN_SUCCESS","LOGIN_FAILURE","CHECK","CHECK_SUCCESS","CHECK_FAILURE","changeField","form","key","value","initializeForm","initialState","register","username","password","passwordConfirm","login","auth","state","payload","draft"],"sources":["/home/prince/work/blog-frontend/src/modules/auth.js"],"sourcesContent":["// redux-actions 라이브러리에서 createAction(액션 생성자), handleActions(리듀서 생성 도우미) 불러옴\nimport { createAction, handleActions } from \"redux-actions\"; \n\n// immer: 불변성을 편리하게 유지해주는 라이브러리\nimport { produce } from \"immer\";\n\nimport { takeLatest } from \"redux-saga/effects\";\n\n// 요청 액션 타입/사가 헬퍼\nimport { createRequestActionTypes, createRequestSaga } from \"../lib/createRequestSaga\";\n\n// 액션 타입 정의\nconst CHANGE_FIELD = \"auth/CHANGE_FIELD\";         // 폼 필드 값 변경\nconst INITIALIZE_FORM = \"auth/INITIALIZE_FORM\";   // 폼 초기화\n\n// 회원가입(register) 관련 액션 3종\nconst [REGISTER, REGISTER_SUCCESS, REGISTER_FAILURE] = createRequestActionTypes(\"REGISTER\");\n// 로그인(login) 관련 액션 3종\nconst [LOGIN, LOGIN_SUCCESS, LOGIN_FAILURE] = createRequestActionTypes(\"LOGIN\");\n// 로그인 유지(토큰 검증) 관련 액션 3종\nconst [CHECK, CHECK_SUCCESS, CHECK_FAILURE] = createRequestActionTypes(\"CHECK\");\n\n// changeField 액션 생성자\n// form: register or login\n// key: username, password 등\n// value: 변경할 값\nexport const changeField = createAction(\n    CHANGE_FIELD,\n    (form, key, value) => ({\n        form,\n        key,\n        value,\n    })\n);\n\n// initializeForm 액션 생성자\n// 어떤 폼(register/login)을 초기화할지 전달\nexport const initializeForm = createAction(\n    INITIALIZE_FORM,\n    (form) => form\n);\n\n// 초기 상태 정의\nconst initialState = {\n    register: {\n        username: '',\n        password: '',\n        passwordConfirm: '',\n    },\n    login: {\n        username: '',\n        password: '',\n    },\n};\n\n// 리듀서 정의\nconst auth = handleActions(\n    {\n        // CHANGE_FIELD 액션 처리\n        // immer produce 사용\n        // 예: draft['register']['username'] = '홍길동'\n        [CHANGE_FIELD]: (state, { payload: { form, key, value } }) =>\n            produce(state, draft => {\n                draft[form][key] = value;\n            }),\n        // INITIALIZE_FORM 액션 처리\n        // 해당 폼의 상태를 초기 상태로 되돌림\n        [INITIALIZE_FORM]: (state, { payload: form }) => ({\n            ...state,\n            [form]: initialState[form],\n        }),\n    },\n    initialState\n);\n\n// 이 auth 리듀서를 모듈에서 기본 export\nexport default auth;\n"],"mappings":"AAAA;AACA,SAASA,YAAY,EAAEC,aAAa,QAAQ,eAAe;;AAE3D;AACA,SAASC,OAAO,QAAQ,OAAO;AAE/B,SAASC,UAAU,QAAQ,oBAAoB;;AAE/C;AACA,SAASC,wBAAwB,EAAEC,iBAAiB,QAAQ,0BAA0B;;AAEtF;AACA,MAAMC,YAAY,GAAG,mBAAmB,CAAC,CAAS;AAClD,MAAMC,eAAe,GAAG,sBAAsB,CAAC,CAAG;;AAElD;AACA,MAAM,CAACC,QAAQ,EAAEC,gBAAgB,EAAEC,gBAAgB,CAAC,GAAGN,wBAAwB,CAAC,UAAU,CAAC;AAC3F;AACA,MAAM,CAACO,KAAK,EAAEC,aAAa,EAAEC,aAAa,CAAC,GAAGT,wBAAwB,CAAC,OAAO,CAAC;AAC/E;AACA,MAAM,CAACU,KAAK,EAAEC,aAAa,EAAEC,aAAa,CAAC,GAAGZ,wBAAwB,CAAC,OAAO,CAAC;;AAE/E;AACA;AACA;AACA;AACA,OAAO,MAAMa,WAAW,GAAGjB,YAAY,CACnCM,YAAY,EACZ,CAACY,IAAI,EAAEC,GAAG,EAAEC,KAAK,MAAM;EACnBF,IAAI;EACJC,GAAG;EACHC;AACJ,CAAC,CACL,CAAC;;AAED;AACA;AACA,OAAO,MAAMC,cAAc,GAAGrB,YAAY,CACtCO,eAAe,EACdW,IAAI,IAAKA,IACd,CAAC;;AAED;AACA,MAAMI,YAAY,GAAG;EACjBC,QAAQ,EAAE;IACNC,QAAQ,EAAE,EAAE;IACZC,QAAQ,EAAE,EAAE;IACZC,eAAe,EAAE;EACrB,CAAC;EACDC,KAAK,EAAE;IACHH,QAAQ,EAAE,EAAE;IACZC,QAAQ,EAAE;EACd;AACJ,CAAC;;AAED;AACA,MAAMG,IAAI,GAAG3B,aAAa,CACtB;EACI;EACA;EACA;EACA,CAACK,YAAY,GAAG,CAACuB,KAAK,EAAE;IAAEC,OAAO,EAAE;MAAEZ,IAAI;MAAEC,GAAG;MAAEC;IAAM;EAAE,CAAC,KACrDlB,OAAO,CAAC2B,KAAK,EAAEE,KAAK,IAAI;IACpBA,KAAK,CAACb,IAAI,CAAC,CAACC,GAAG,CAAC,GAAGC,KAAK;EAC5B,CAAC,CAAC;EACN;EACA;EACA,CAACb,eAAe,GAAG,CAACsB,KAAK,EAAE;IAAEC,OAAO,EAAEZ;EAAK,CAAC,MAAM;IAC9C,GAAGW,KAAK;IACR,CAACX,IAAI,GAAGI,YAAY,CAACJ,IAAI;EAC7B,CAAC;AACL,CAAC,EACDI,YACJ,CAAC;;AAED;AACA,eAAeM,IAAI","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}